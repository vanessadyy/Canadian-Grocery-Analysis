---
title: "My title"
subtitle: "My subtitle if needed"
author: 
  - First author
  - Another author
thanks: "Code and data are available at: [https://github.com/RohanAlexander/starter_folder](https://github.com/RohanAlexander/starter_folder)."
date: today
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(palmerpenguins)
```


# Introduction

Canada’s grocery sector, with its high market concentration and rising consumer prices, faces increasing scrutiny over limited competition and potential collusion. The recent Competition Bureau study highlights an urgent need for pricing transparency, yet consumers lack clear, data-driven insights into which grocers consistently offer the lowest prices across core product categories. To address this, Project Hammer has compiled an unprecedented, time-stamped database of historical prices from eight major Canadian grocers—Voila, T&T, Loblaws, No Frills, Metro, Galleria, Walmart, and Save-On-Foods—with the aim of promoting fairer competition and enhancing consumer choice. While the dataset is extensive, a structured analysis is essential to identify which retailer consistently provides the best value.

This study fills that gap by rigorously analyzing Project Hammer’s data from February to November 2024 to answer the question: Which grocer is generally the cheapest across all comparable product families? Using standardized methodologies to calculate and compare average prices across thousands of items, we identify the retailer with the lowest overall pricing and examine category-specific competitive patterns, providing a comprehensive view of grocery pricing dynamics.

# Data {#sec-data}

## Overview

We use the statistical programming language R [@citeR].... Our data [@shelter].... Following @tellingstories, we consider...

Overview text

## Measurement
	
Some paragraphs about how we go from a phenomena in the world to an entry in the dataset.

## Outcome variables

Add graphs, tables and text. Use sub-sub-headings for each outcome variable or update the subheading to be singular.



Some of our data is of penguins (@fig-bills), from @palmerpenguins.

```{r}
#| label: fig-bills
#| fig-cap: Bills of penguins
#| echo: false

ggplot(penguins, aes(x = island, fill = species)) +
  geom_bar(alpha = 0.8) +
  scale_fill_manual(values = c("darkorange","purple","cyan4"),
                    guide = "none") +
  theme_minimal() +
  facet_wrap(~species, ncol = 1) +
  coord_flip()
```

Talk more about it.

And also planes (@fig-planes). (You can change the height and width, but don't worry about doing that until you have finished every other aspect of the paper - Quarto will try to make it look nice and the defaults usually work well once you have enough text.)

```{r}
#| label: fig-planes
#| fig-cap: Relationship between wing length and width
#| echo: false
#| warning: false
#| message: false

analysis_data <- read_csv(here::here("data/02-analysis_data/analysis_data.csv"))

analysis_data |> 
  ggplot(aes(x = width, y = length)) +
  geom_point(alpha = 0.8) +
  theme_minimal() +
  labs(x = "Wing width (mm)",
       y = "Wing length (mm)")
```

Talk way more about it. 

## Predictor variables

Add graphs, tables and text.

Use sub-sub-headings for each outcome variable and feel free to combine a few into one if they go together naturally.


# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
```

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false
```




# Discussion

## 1. Correlation vs. Causation
The observed trend in prices over time may suggest a relationship between time and changes in the price of Nature Valley products. However, it is crucial to distinguish between **correlation** and **causation**. The price changes might coincide with certain periods (e.g., sales promotions or seasonal demand fluctuations), but this does not necessarily imply that time directly influences the price adjustments. Other underlying factors, such as marketing strategies, supply chain issues, or changes in consumer demand, could also be driving these variations. Therefore, while the graph shows a correlation between time and price, asserting a causal relationship would require deeper analysis, including controlling for other variables.

## 2. Missing Data
Missing data could affect the analysis and interpretation of the price trend. In this dataset, any gaps in the time series (e.g., missing records for certain dates) could lead to misleading conclusions about price stability or changes. For instance, a price drop or spike could be missed entirely if data is missing for a key period. Imputation techniques or sensitivity analyses may be necessary to address these gaps and provide a more robust understanding of the price trend. 

## 3. Sources of Bias
There are several potential sources of bias in this analysis:
- **Selection Bias**: The data only includes records from a specific vendor (e.g., Voila), which may not be representative of the overall market. Prices from other retailers or platforms could vary significantly.
- **Temporal Bias**: The analysis spans a limited timeframe, which may not capture long-term trends or seasonal variations adequately. A longer dataset might reveal different patterns.
- **Measurement Bias**: If the pricing data were collected manually or extracted from different sources, inconsistencies could introduce measurement errors. Variability in product packaging (e.g., different sizes or promotional bundles) might also distort the price comparisons.

These biases should be acknowledged when interpreting the results, and future studies could aim to include a broader range of vendors, a longer time series, and more rigorous data validation methods.


\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the model fits, and is affected by, the data"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]
```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2
```



\newpage


# References


